chrome.tabs.query({active:!0,currentWindow:!0},(([e])=>{const c=e,o=document.getElementById("searcharea");c.url.startsWith("chrome")||c.url.startsWith("chrome-extension")||c.url.startsWith("mozilla")||c.url.startsWith("about")||c.url.startsWith("edge")||c.url.startsWith("brave")||c.url.startsWith("opera")||c.url.startsWith("vivaldi")||c.url.startsWith("safari")||c.url.startsWith("file")||c.url.startsWith("view-source")||c.url.includes("chromewebstore.google.com")||c.url.includes("chrome.google.com/webstore")?(document.body.dataset.disabled=!0,o.classList.add("disabled")):o.classList.remove("disabled")})),document.getElementById("web-button").addEventListener("click",(()=>{chrome.tabs.create({url:"#"})})),document.getElementById("BMC-button").addEventListener("click",(()=>{chrome.tabs.create({url:"#"})})),document.getElementById("shortcut-message").addEventListener("click",(()=>{chrome.tabs.create({url:"chrome://extensions/shortcuts"})})),document.getElementById("search-button").addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"triggerSearch"})})),document.getElementById("local-button").addEventListener("click",(()=>{document.getElementById("file-input").click()})),document.getElementById("file-input").addEventListener("change",(e=>{const c=e.target.files[0];if(c){const e=new FileReader;e.onload=e=>{const c=e.target.result.split(",")[1];chrome.runtime.sendMessage({action:"searchLocalImage",image:c})},e.readAsDataURL(c)}})),document.getElementById("settings").addEventListener("click",(()=>{chrome.runtime.openOptionsPage()})),document.getElementById("searcharea").addEventListener("click",(()=>{"true"!==document.body.dataset.disabled&&chrome.tabs.query({active:!0,currentWindow:!0},(([e])=>{chrome.scripting.insertCSS({target:{tabId:e.id},files:["data/inject/inject.css"]},(()=>{chrome.scripting.executeScript({target:{tabId:e.id},files:["data/inject/inject.js"]})})),window.close()}))}));